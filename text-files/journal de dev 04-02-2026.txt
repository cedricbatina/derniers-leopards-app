üß≠ Journal de d√©veloppement ‚Äî Sonekeno

P√©riode : ~48h (hier ‚Üí aujourd‚Äôhui)
√âtat : fondations techniques + produit solidifi√©es

1. Clarification produit & vision
Nom & positionnement

Application : Sonekeno

Nature :
Plateforme / espace culturel de cr√©ation
‚Üí √©criture, structuration d‚Äôunivers, pr√©paration transm√©dia (roman, saga, s√©rie, jeu, essais‚Ä¶)

Principe cl√© valid√©

Project = univers / entit√© √©ditoriale

Book = ≈ìuvre dans un projet
(ex : tome, essai, recueil, livret, etc.)

Characters / Scenes / Timeline / Glossary
‚Üí toujours rattach√©s √† un project

‚û°Ô∏è Cette mod√©lisation permet :

une franchise (plusieurs livres, formats, p√©riodes)

des projets non-livres (jeu vid√©o, essais, cartes, bible de prod‚Ä¶)

2. Base de donn√©es ‚Äî stabilisation majeure
2.1 Projects

Table projects cr√©√©e et stabilis√©e

Champs :

slug, title, title_en, title_pt

logline, pitch

status

deleted_at (soft delete)

Index et contraintes OK

Acc√®s propri√©taire strict (owner_id)

2.2 Books

Table books conserv√©e

Relation : books.project_id

Un projet peut avoir plusieurs books

Premier book existant :

Les derniers l√©opards ‚Äî Tome 1

üëâ D√©cision importante :

les sous-titres (Kikongo / FR / EN) seront port√©s par books

ajout pr√©vu : subtitle, subtitle_fr, subtitle_kg, etc. (√† faire plus tard, via migration propre)

3. Contenus narratifs ‚Äî coh√©rence & performance
3.1 Scenes

Ajout du champ :

content LONGTEXT ‚Üí texte d‚Äô√©criture r√©el

Soft delete :

deleted_at

Indexation am√©lior√©e :

(project_id, chapter_id, scene_no)

Unicit√© corrig√©e :

UNIQUE (project_id, slug)

suppression des uniques globaux dangereux

3.2 Characters

Soft delete ajout√© (deleted_at)

Unicit√© par projet :

UNIQUE (project_id, slug)

3.3 Alignement g√©n√©ral

Tous les SELECT sensibles filtrent d√©sormais :

deleted_at IS NULL


Les routes API g√®rent :

listing normal

listing ‚Äútrash‚Äù

restore depuis la corbeille

4. API ‚Äî structuration propre (CRUD-first)
4.1 Projects API

GET /api/projects

ignore les projets supprim√©s

GET /api/projects/:slug

DELETE /api/projects/:slug

remplac√© par soft delete

Pr√©vu :

restore

?trashed=1

4.2 Scenes API

CRUD complet

Soft delete + restore

Listing avec :

?trashed=1

?chapter_id=

?q=

S√©curit√© :

v√©rification project ‚Üí chapter ‚Üí scene

slug immuable

4.3 Characters API

M√™me logique que scenes

Route restore.post.js valid√©e

‚û°Ô∏è Principe pos√© :

aucune vue avant un CRUD API propre et s√©curis√©

5. Auth & s√©curit√© (rappel)

JWT access + refresh (cookies HttpOnly)

Sessions persist√©es (user_sessions)

RBAC pr√™t (user / editor / admin)

/api/auth/me = source de v√©rit√© front

Soft delete compatible avec l‚Äôauth (users.deleted_at)

6. UI / Layout ‚Äî refonte s√©rieuse
6.1 Header & navigation

Suppression du hamburger inutile

Navigation toujours visible (pills)

Suppression des doublons login/register (centralis√© dans UserInlineCard)

Lang switch :

composant coh√©rent (lang-chip)

√©tat actif lisible

Theme toggle :

corrig√© ‚Üí vrai bouton

cursor pointer

hover / focus / active OK

6.2 Design system (main.css)

Tokens couleur light/dark stabilis√©s

Hi√©rarchie visuelle claire :

surfaces

cards

badges

pills

Composants :

.card, .card-header, .card-body, .card-footer

.btn, .btn-primary, .btn-ghost, .btn-icon

A11y :

focus-ring

skip-link

Animations l√©g√®res (transitions, hover)

7. Landing page ‚Äî niveau expert (SEO-ready)

Hero clair + CTA diff√©renci√©s (guest / authed)

Valeur produit explicite

FAQ structur√©e (SEO rich results friendly)

JSON-LD WebSite

Meta dynamiques i18n

Canonical propre

Pr√©paration /explore (public)

8. Contenu √©ditorial ‚Äî d√©cisions structurantes
Franchise Les derniers l√©opards

Un seul projet = la franchise

Plusieurs books possibles :

Tome 1 : Kongo Dibuidi / La D√©solation

Tome 2 : Kongo dia Mpa

Tome 3 : Mama i Mama ‚Äî La culture d‚Äôune reine

Autres : La Confrontation, etc.

Autres projets possibles

Pens√©es & Essais

Proverbes, maximes, ab√©c√©daires

Jeu vid√©o / cartes / lore
‚û°Ô∏è Le mod√®le actuel supporte tout √ßa sans changement

9. √âtat actuel (r√©sum√©)
‚úÖ Ce qui est solide

Mod√®le de donn√©es

S√©curit√©

API CRUD

Soft delete partout o√π n√©cessaire

Design system coh√©rent

Layout stable

Vision produit claire

‚ö†Ô∏è Ce qui reste volontairement en attente

CRUD Books (√† venir)

Vues Characters / Scenes

Explore public

Collaboration multi-utilisateurs

Export / publication

10. Prochaines √©tapes (ordre recommand√©)

CRUD Books

ajout subtitle

soft delete

Pages Studio

/studio/projects

/studio/projects/:slug

Vues Characters / Scenes

branch√©es sur API existante

Explore (lecture seule)

Collaboration / r√¥les

Exports (PDF / MD / JSON)

Conclusion